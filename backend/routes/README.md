# API Documentation

This API powers the question-related functionality of the Läkemedels Hemsida project. Below is a summary of all available routes, categorized by their respective route files.

---

# `GET` 

## `commonRoutes.js`

### `/api/units/all`
- **Description:** Get all question types.
- **Response:**
```json
[
  { id: 1, ascii_name: "%%second_prefix%%g", accepted_answer: ["%%second_prefix%%g"] },
  ...
]
```

### `/api/course/all`
- **Description:** Get all question types.
- **Response:**
```json
[
  { course_code: "KM1423", course_name: "KM1423", question_types: '["IDK"]' },
  ...
]
```

### `/api/medicine/all`
- **Description:** Get all units.
- **Response:**
```json
[
  { id: 1, namn: "Morfin", fass_link: "https://www.fass.se/LIF/product?userType=0&nplId=20131019000027", styrkor_doser: "{\"dosage\": [15,10], \"available_dose\": [10]}" },
  ...
]
```

### `/api/qtype/all`
- **Description:** Get all question types.
- **Response:**
```
[
  { id: 0, name: "IDK", right_answers: 0, wrong_answers: 0, history_json: "[]" },
  ...
]
```

---


## `questionRoutes.js`

### `/api/questions/random`
- **Description:** Get all questions.
- **Response:**
```json
[
  { "_id": "q1", "question": "How many mg in 1g?", ... },
  ...
]
```

### `GET /api/questions/:id`
- **Description:** Get question by ID.
- **Response:**
```json
{ "_id": "q1", "question": "How many mg in 1g?", ... }
```

---


# `POST`
- **Description:** Add a new course.
- **Request Body:**
```json
{ "name": "Farmakologi" }
```
- **Response:**
```json
{ "message": "Course created", "course": { "_id": "abc456", "name": "Farmakologi" } }
```

---



### `POST /api/medicines`
- **Description:** Add a new medicine.
- **Request Body:**
```json
{ "name": "Ibuprofen", "unit": "mg" }
```
- **Response:**
```json
{ "message": "Medicine created", "medicine": { "_id": "med2", "name": "Ibuprofen" } }
```

---

## Question Type Routes (`qtypeRoutes.js`)

### `POST /api/qtypes`
- **Description:** Create a new question type.
- **Request Body:**
```json
{ "name": "Drag and Drop" }
```
- **Response:**
```json
{ "message": "Qtype created", "qtype": { "_id": "qt1", "name": "Drag and Drop" } }
```

---

## Question Routes (`questionRoutes.js`)

### `POST /api/questions`
- **Description:** Create a new question.
- **Request Body:**
```json
{
  "question": "How many mg in 1g?",
  "correctAnswer": "1000",
  "course": "abc123",
  "unit": "mg",
  "qtype": "qt1",
  "medicines": ["med1"]
}
```
- **Response:**
```json
{ "message": "Question created", "question": { "_id": "q1", ... } }
```


## Units Routes (`unitsRoutes.js`)

### `POST /api/units`
- **Description:** Add a new unit.
- **Request Body:**
```json
{ "name": "ml", "description": "Milliliter" }
```
- **Response:**
```json
{ "message": "Unit created", "unit": { "_id": "unit1", "name": "ml" } }
```

---

## Notes
- All POST routes expect JSON request bodies.
- All routes return JSON responses.
- Error messages are returned in the format:
```json
{ "error": "Detailed error message" }
```

---

## Author
Generated by ChatGPT for the Läkemedels Hemsida project.

